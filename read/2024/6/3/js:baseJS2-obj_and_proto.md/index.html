<!DOCTYPE html ><html lang="zh"><head> <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.8.0/styles/default.min.css"/><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script><script>window.addEventListener('DOMContentLoaded',()=>{
    hljs.highlightAll();
})</script><link rel="stylesheet" href="/files/post-fix.css"/><style>blockquote{
    margin: 4px;
    border-left: 2px solid var(--Cbrand);
    opacity: .75
}
</style><link rel="icon" href="/files/icon.svg"/><meta charset="utf-8"/><meta name="viewport" content="width:device-width,initial-scale=1.0"/><meta name="author" content="0xarch"/><meta name="description" content="JavaScript 基础 第二篇：面向对象概述。
包含内容：对象和原型链。
转载总结自 MDN。"/><meta name="keywords" content="Web Node.js JavaScript"/><meta http-equiv="content-language" content="zh-CN"/><link rel="stylesheet" href="/files/style.css"/><link rel="stylesheet" href="/files/components/KContentTable.css"/><script src="/files/es/KContentTable.js"></script><link rel="stylesheet" href="/files/components/KFooter.css"/><link rel="stylesheet" href="/files/components/KNextPage.css"/><link rel="stylesheet" href="/files/components/KNavigationBar.css"/><script src="/files/es/KNavigationBar.js"></script><title>JS基础II:对象和原型 :: 文章</title></head><body class="colorful" OCP="OVERRIDE" style="--color1:#1c6ae4;--color2:#c8fd68"><header class="KNavigationBar"><a class="kLogo" href="/">0xarch's Blogs</a><button class="kToggle"><svg viewBox="0 0 48 48" fill="none" height="48" stroke="currentColor" stroke-width="2" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M12,14h24M12,24h24M12,34h24"></path></svg></button><div class="kCon"><a href="/">首页</a><a href="/archive/1">归档</a><a href="/category/1">分类</a><a href="/tag/1">标签</a><a href="/about/">关于</a><a href="/status/">状态 </a><a href="/tools/">工具</a></div></header><div class="PageLabel uWcon"><br/><b class="meta"><date>2024年6月3日星期一</date><span>Web</span><span>530字</span></b></div><main class="uWcon"><section><h2>前言</h2><p>JavaScript 基础 第二篇：面向对象概述。 包含内容：对象和原型链。 转载总结自 MDN。</p></section><article id="markdown_fillContent"><h1 id="js基础ii对象和原型">JS基础II:对象和原型</h1><h2 id="对象和原型链">对象和原型链</h2><p>JavaScript 只有一种结构：对象。每个对象都有一个私有属性指向另一个名为原型（prototype）的对象。原型对象也有一个自己的原型，层层向上直到一个对象的原型为 null。根据定义，null 没有原型，并作为这个原型链中的最后一个环节。可以改变原型链中的任何成员，甚至可以在运行时换出原型。</p><h3 id="属性继承">属性继承</h3><p>JavaScript 对象是动态的属性（指其自有属性）<strong>包</strong>。JavaScript 对象有一个指向一个原型对象的链。当试图访问一个对象的属性时，它不仅仅在该对象上搜寻，还会搜寻该对象的原型，以及原型的原型，依次层层向上搜索，直到找到一个名字匹配的属性或到达原型链的末尾。</p><h3 id="构造函数">构造函数</h3><p>如果一组属性应该出现在每一个实例上，那我们就可以重用它们——尤其是对于方法。</p><pre><code class="language-js">const boxes = [
  { value: 1, getValue() { return this.value; } },
  { value: 2, getValue() { return this.value; } },
  { value: 3, getValue() { return this.value; } },
];
</code></pre><p>我们可以将 <code>getValue</code> 移动到所有盒子的 <code>[[Prototype]]</code> 上：</p><pre><code class="language-js">const boxPrototype = {
  getValue() {
    return this.value;
  },
};

const boxes = [
  { value: 1, __proto__: boxPrototype },
  { value: 2, __proto__: boxPrototype },
  { value: 3, __proto__: boxPrototype },
];
</code></pre><p>使用构造函数简化代码：</p><pre><code class="language-js">// 一个构造函数
function Box(value) {
  this.value = value;
}

// 使用 Box() 构造函数创建的所有盒子都将具有的属性
Box.prototype.getValue = function () {
  return this.value;
};

const boxes = [new Box(1), new Box(2), new Box(3)];
</code></pre><p>重写为类：</p><pre><code class="language-js">class Box {
  constructor(value) {
    this.value = value;
  }

  // 在 Box.prototype 上创建方法
  getValue() {
    return this.value;
  }
}
</code></pre><p>类是构造函数的语法糖，这意味着你仍然可以修改 Box.prototype 来改变所有实例的行为。</p><h4 id="字面量的隐式构造函数">字面量的隐式构造函数</h4><pre><code class="language-js">// 对象字面量（没有 `__proto__` 键）自动将
// `Object.prototype` 作为它们的 `[[Prototype]]`
const object = { a: 1 };
Object.getPrototypeOf(object) === Object.prototype; // true

// 数组字面量自动将 `Array.prototype` 作为它们的 `[[Prototype]]`
const array = [1, 2, 3];
Object.getPrototypeOf(array) === Array.prototype; // true

// 正则表达式字面量自动将 `RegExp.prototype` 作为它们的 `[[Prototype]]`
const regexp = /abc/;
Object.getPrototypeOf(regexp) === RegExp.prototype; // true
</code></pre><p>我们可以将它们“解糖（de-sugar）”为构造函数形式。</p><pre><code class="language-js">const array = new Array(1, 2, 3);
const regexp = new RegExp(&quot;abc&quot;);
</code></pre></article><hr/><div class="fit cclogo"><a href="https://creativecommons.org/">传播许可协议</a><div class="inner"><b>Creative Commons </b><span>BY</span><span>NC</span><span>SA</span></div></div><br/><div class="KNextPage"><a class="arrow left nowrap" href="/read/2024/6/3/js:baseJS3-logic.md/">← JS基础III:基本逻辑语句</a><a class="arrow right nowrap" href="/read/2024/4/9/fewu:simplus-theme.md/">simplus主题源码概述 →</a><a class="top" href="#">Top</a></div></main><hr/><footer class="KFooter uWcon"><div class="kLinks"><nav><h3>Project Fivewu</h3><span>Fewu Generator </span><span>1.2.4</span><a href="https://github.com/0xarch/fewu">Source Code</a></nav><nav><h3>Simplus</h3><span>2.0.0</span><a href="https://github.com/0xarch/fewu-theme-simplus">Github</a></nav><nav><h3>Contact</h3><a href="https://0xarch.github.io">Github Page</a><a href="https://matrix.to/#/#solo_esta_vez:mozilla.org">[Matrix] Moz</a><a href="https://matrix.to/#/#solo_esta_vez:fedora.im">[Matrix] Fedora</a><a href="mailto:alanqa-ops@outlook.com">E-Mail</a></nav><nav><h3>Friends</h3><a href="https://wangyuzhen666.github.io">Wyz666</a></nav></div><br/><hr/><div class="kCopyr tac">2024 Powered by Fewu. 2020-2024 0xarch,soloev All rights reserved.</div></footer><div class="KContentTable"><div class="kTOC"></div><br/><button class="kButton">TOC</button></div></body></html>